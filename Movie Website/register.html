<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Register - ChillOut</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="./images/movie logo.png" />
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap" rel="stylesheet">
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="grid.css">
  <link rel="stylesheet" href="app.css">

  <style>
    .register-box {
      max-width: 420px;
      margin: 4rem auto;
      background: #111;
      border-radius: 15px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }
    .register-box h2 {
      text-align: center;
      margin-bottom: 1.5rem;
      color: var(--main-color);
    }
    .input-group {
      margin-bottom: 1.2rem;
    }
    .input-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }
    .input-group input {
      width: 100%;
      padding: 0.7rem;
      border: 1px solid #333;
      border-radius: 6px;
      background: #000;
      color: #fff;
    }
    .btn-register {
      width: 100%;
      margin-top: 1rem;
    }
    .text-center {
      text-align: center;
      margin-top: 1rem;
      font-size: 0.9rem;
    }
    .text-center a {
      color: var(--main-color);
      text-decoration: none;
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <div class="nav-wrapper">
    <div class="container">
      <div class="nav">
        <a href="index.html" class="logo">
          <i class='bx bx-movie-play bx-tada main-color'></i>Chill<span class="main-color">Out</span>
        </a>
        <ul class="nav-menu" id="nav-menu">
          <li><a href="index.html">Home</a></li>
          <li><a href="genre.html">Genre</a></li>
          <li><a href="movies.html">Movies</a></li>
          <li><a href="series.html">Series</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="signin.html" class="btn btn-hover"><span>Sign in</span></a></li>
        </ul>
        <div class="hamburger-menu" id="hamburger-menu"><div class="hamburger"></div></div>
      </div>
    </div>
  </div>

  <!-- Register Section -->
  <div class="section">
    <div class="container">
      <div class="register-box">
        <h2>Create an Account</h2>
        <form id="registerForm" action="#" method="POST">
          <div class="input-group">
            <label for="fullname">Full Name</label>
            <input type="text" id="fullname" name="fullname" placeholder="Enter your full name" required>
          </div>
          <div class="input-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>
          </div>
          <div class="input-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" placeholder="Create a password (min 8 characters)" minlength="8" required>
          </div>
          <div class="input-group">
            <label for="confirm-password">Confirm Password</label>
            <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm your password" required>
          </div>
          <button type="submit" class="btn btn-hover btn-register"><span>Register</span></button>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="section">
        <div class="container">
            <div class="row">
                <div class="col-4 col-md-6 col-sm-12">
                    <div class="content">
                        <a href="" class="logo">
                            <i class='bx bx-movie-play bx-tada main-color'></i>Chill<span class="main-color">Out</span>
                        </a>
                        <p>
                            At ChillOut, we believe entertainment should be simple, fun, and available anytime you need a break. From the latest blockbuster movies to timeless classics and trending series, our platform brings everything together in one seamless experience. Enjoy smooth streaming, personalized recommendations, and the freedom to watch anywhere, anytime â€” no limits, no interruptions, just pure cinematic joy.
                        </p>
                        <div class="social-list">
                            <a href="#" class="social-item">
                                <i class="bx bxl-facebook"></i>
                            </a>
                            <a href="#" class="social-item">
                                <i class="bx bxl-twitter"></i>
                            </a>
                            <a href="#" class="social-item">
                                <i class="bx bxl-instagram"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-8 col-md-6 col-sm-12">
                    <div class="row">
                        <div class="col-3 col-md-6 col-sm-6">
                            <div class="content">
                                <p><b>ChillOut</b></p>
                                <ul class="footer-menu">
                                    <li><a href="about.html">About us</a></li>
                                    <li><a href="myprofile.html">My profile</a></li>
                                    <li><a href="pricing.html">Pricing plans</a></li>
                                    <li><a href="contacts.html">Contacts</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-3 col-md-6 col-sm-6">
                            <div class="content">
                                <p><b>Browse</b></p>
                                <ul class="footer-menu">
                                    <li><a href="about.html">About us</a></li>
                                    <li><a href="myprofile.html">My profile</a></li>
                                    <li><a href="pricing.html">Pricing plans</a></li>
                                    <li><a href="contacts.html">Contacts</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-3 col-md-6 col-sm-6">
                            <div class="content">
                                <p><b>Help</b></p>
                                <ul class="footer-menu">
                                    <li><a href="about.html">About us</a></li>
                                    <li><a href="myprofile.html">My profile</a></li>
                                    <li><a href="princing.html">Pricing plans</a></li>
                                    <li><a href="contacts.html">Contacts</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-3 col-md-6 col-sm-6">
                            <div class="content">
                                <p><b>Download app</b></p>
                                <ul class="footer-menu">
                                    <li>
                                        <a href="#">
                                            <img src="./images/google-play.png" alt="">
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <img src="./images/app-store.png" alt="">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- END FOOTER SECTION -->

    <!-- COPYRIGHT SECTION -->
    <div class="copyright">
        Copyright 2023  
    </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="app.js"></script>
  <script>
    // Registration with backend API
    document.getElementById('registerForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const pass = document.getElementById('password').value;
      const confirm = document.getElementById('confirm-password').value;
      
      if (pass.length < 8) {
        alert('Password must be at least 8 characters long!');
        return;
      }
      
      if (pass !== confirm) {
        alert('Passwords do not match!');
        return;
      }
      
      const formData = {
        fullname: document.getElementById('fullname').value,
        email: document.getElementById('email').value,
        password: pass
      };
      
      try {
        const response = await fetch('/api/register', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData)
        });
        
        const data = await response.json();
        
        if (data.success) {
          localStorage.setItem('isLoggedIn', 'true');
          localStorage.setItem('userEmail', formData.email);
          alert(data.message);
          window.location.href = 'index.html';
        } else {
          alert(data.message);
        }
      } catch (error) {
        alert('Registration failed. Please try again.');
        console.error('Error:', error);
      }
    });
  </script>
</body>
</html>